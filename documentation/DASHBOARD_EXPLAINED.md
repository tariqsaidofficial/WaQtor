# ุดุฑุญ Dashboard - ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

## โ ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ

### 1. ูุง ูุนูู Platform: smbaุ

**smba** ูู ุงุฎุชุตุงุฑ ูู **Samsung Business Android** ุฃู **Small/Medium Business Android**

#### ๐ฑ ุฃููุงุฏ ุงูููุตุงุช ูู WhatsApp:

| ุงูููุฏ | ุงููุนูู | ุงููุตู |
|-------|--------|-------|
| `smba` | WhatsApp Business (Android) | ูุงุชุณุงุจ ุจุฒูุณ ุนูู ุฃูุฏุฑููุฏ |
| `smbi` | WhatsApp Business (iOS) | ูุงุชุณุงุจ ุจุฒูุณ ุนูู ุขูููู |
| `web` | WhatsApp Web | ูุงุชุณุงุจ ููุจ ุนูู ุงููุชุตูุญ |
| `android` | WhatsApp (Android) | ูุงุชุณุงุจ ุนุงุฏู ุนูู ุฃูุฏุฑููุฏ |
| `iphone` | WhatsApp (iOS) | ูุงุชุณุงุจ ุนุงุฏู ุนูู ุขูููู |
| `windows` | WhatsApp (Windows) | ุชุทุจูู ูุงุชุณุงุจ ุนูู ูููุฏูุฒ |
| `mac` | WhatsApp (Mac) | ุชุทุจูู ูุงุชุณุงุจ ุนูู ูุงู |

#### โ ุงูุญู ุงููุทุจู:

ุชู ุชุญุฏูุซ `sessionMonitor.js` ูุชุญููู ุงูุฃููุงุฏ ุฅูู ุฃุณูุงุก ูููููุฉ:

```javascript
const platformMap = {
    'smba': 'WhatsApp Business (Android)',
    'smbi': 'WhatsApp Business (iOS)',
    'web': 'WhatsApp Web',
    'android': 'WhatsApp (Android)',
    'iphone': 'WhatsApp (iOS)',
    'windows': 'WhatsApp (Windows)',
    'mac': 'WhatsApp (Mac)'
};
```

**ุงููุชูุฌุฉ:**
- ูุจู: `Platform: smba`
- ุจุนุฏ: `Platform: WhatsApp Business (Android)`

---

### 2. ูุง ูุนูู Messages Received: 2ุ

**Messages Received** = ุงูุฑุณุงุฆู ุงููุณุชููุฉ ูู ุงูุขุฎุฑูู

#### ๐ ุดุฑุญ ุฅุญุตุงุฆูุงุช ุงูุฑุณุงุฆู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Session & Message Statistics         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                         โ
โ  ๐ค Messages Sent (Today): 145          โ โ ุงูุฑุณุงุฆู ุงูุชู ุฃุฑุณูุชูุง ุฃูุช ุงูููู
โ  โ Messages Delivered: 138             โ โ ุงูุฑุณุงุฆู ุงูุชู ูุตูุช ุจูุฌุงุญ
โ  โ Messages Failed: 7                  โ โ ุงูุฑุณุงุฆู ุงูุชู ูุดูุช ูู ุงูุฅุฑุณุงู
โ  ๐ฅ Messages Received: 2                โ โ ุงูุฑุณุงุฆู ุงูุชู ุงุณุชููุชูุง ูู ุงูุขุฎุฑูู
โ                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ๐ ุชูุตูู ูู ุฅุญุตุงุฆูุฉ:

1. **Messages Sent (Today)** - `messagesSent`
   - ุงูุฑุณุงุฆู ุงูุชู ุฃุฑุณูุชูุง **ุฃูุช** ุงูููู
   - ูุชู ุงูุนุฏ ุนูุฏ ุฅุฑุณุงู ุฃู ุฑุณุงูุฉ
   - ูุตุฏุฑ ุงูุจูุงูุงุช: `message_create` event ุญูุซ `message.fromMe === true`

2. **Messages Delivered** - `messagesDelivered`
   - ุงูุฑุณุงุฆู ุงูุชู **ูุตูุช ุจูุฌุงุญ** ูููุณุชูู
   - ุชุฃููุฏ ุงูุชุณููู (ุนูุงูุฉ โโ ุฑูุงุฏูุฉ)
   - ุญุงููุงู: ูุชู ุญุณุงุจูุง ูู ุฅุฌูุงูู ุงูุฑุณุงุฆู ุงููุฑุณูุฉ

3. **Messages Failed** - `messagesFailed`
   - ุงูุฑุณุงุฆู ุงูุชู **ูุดูุช** ูู ุงูุฅุฑุณุงู
   - ุฃุณุจุงุจ ุงููุดู: ุฑูู ุฎุงุทุฆุ ูุญุธูุฑุ ูุดููุฉ ูู ุงูุดุจูุฉ
   - ุญุงููุงู: ูุชู ุญุณุงุจูุง ูู ุงููุฑู

4. **Messages Received** - `messagesReceived`
   - ุงูุฑุณุงุฆู ุงูุชู **ุงุณุชููุชูุง** ูู ุงูุขุฎุฑูู
   - ูุชู ุงูุนุฏ ุนูุฏ ุงุณุชูุงู ุฃู ุฑุณุงูุฉ
   - ูุตุฏุฑ ุงูุจูุงูุงุช: `message` event ุญูุซ `message.fromMe === false`

#### ๐ ูุซุงู ุนููู:

```javascript
// ูู sessionMonitor.js

// ุนูุฏ ุฅุฑุณุงู ุฑุณุงูุฉ
client.on('message_create', (message) => {
    if (message.fromMe) {
        this.currentState.messagesSent++;  // โ ูุฒูุฏ ุงูุนุฏุงุฏ
    }
});

// ุนูุฏ ุงุณุชูุงู ุฑุณุงูุฉ
client.on('message', (message) => {
    if (!message.fromMe) {
        this.currentState.messagesReceived++;  // โ ูุฒูุฏ ุงูุนุฏุงุฏ
    }
});
```

#### โ ููุงุฐุง Messages Received: 2 ููุทุ

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**

1. **ุงูุฌูุณุฉ ุฌุฏูุฏุฉ:**
   - ุฅุฐุง ููุช ููุชู ุงุชุตูุชุ ููุฐุง ุทุจูุนู
   - ุงูุนุฏุงุฏ ูุจุฏุฃ ูู ุงูุตูุฑ ุนูุฏ ูู ุงุชุตุงู ุฌุฏูุฏ

2. **ุงูุฑุณุงุฆู ุงููุฏููุฉ ูุง ุชูุญุณุจ:**
   - ุงููุธุงู ูุญุณุจ ุงูุฑุณุงุฆู **ุงูุฌุฏูุฏุฉ ููุท** ุจุนุฏ ุงูุงุชุตุงู
   - ุงูุฑุณุงุฆู ุงููุฏููุฉ (ูุจู ุงูุงุชุตุงู) ูุง ุชูุญุณุจ

3. **ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ููููุฉ:**
   - ุฅุฐุง ูู ูุฑุณู ูู ุฃุญุฏ ุฑุณุงุฆูุ ุณูุจูู ุงูุนุฏุงุฏ ููุฎูุถุงู

4. **ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู:**
   - ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู Backendุ ุชูุตููุฑ ุงูุฅุญุตุงุฆูุงุช
   - ุฅูุง ุฅุฐุง ูุงูุช ูุญููุธุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

### 3. ูุง ูุนูู ุฎุทุฃ Hydration (UTC vs Asia/Dubai)ุ

**Hydration Error** = ุนุฏู ุชุทุงุจู ุจูู HTML ุงููููููุฏ ุนูู ุงูุณูุฑูุฑ ูุงูู Client

#### ๐ ุดุฑุญ ุงููุดููุฉ:

```
Server (UTC):        "Wed, Oct 29, 2025"  โ ุงูููุช ุนูู ุงูุณูุฑูุฑ
Client (Asia/Dubai): "Thu, Oct 30, 2025"  โ ุงูููุช ุนูู ุงููุชุตูุญ
                     โ ูุง ูุชุทุงุจูุงู!
```

#### โ ุงูุญู ุงููุทุจู:

ุชู ููู ุญุณุงุจ ุงูุชุงุฑูุฎ ูุงูููุทูุฉ ุงูุฒูููุฉ ุฅูู **Client Side ููุท**:

```javascript
// ูุจู (ุฎุทุฃ):
const currentDate = new Date().toLocaleDateString(...);  // โ ูุนูู ุนูู Server ู Client
const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;

// ุจุนุฏ (ุตุญูุญ):
const [currentDate, setCurrentDate] = React.useState('');  // โ ูุงุฑุบ ูู ุงูุจุฏุงูุฉ
const [timeZone, setTimeZone] = React.useState('');

React.useEffect(() => {
    // โ ูุนูู ุนูู Client ููุท ุจุนุฏ ุงูุชุญููู
    setCurrentDate(new Date().toLocaleDateString(...));
    setTimeZone(Intl.DateTimeFormat().resolvedOptions().timeZone);
}, []);
```

**ุงููุชูุฌุฉ:**
- โ ูุง ููุฌุฏ hydration error
- โ ุงูุชุงุฑูุฎ ูุงูููุทูุฉ ุงูุฒูููุฉ ุตุญูุญุฉ ุฏุงุฆูุงู
- โ ูุนูู ูู ุฌููุน ุงูููุงุทู ุงูุฒูููุฉ

---

## ๐ ููู Dashboard ุจุงููุงูู

### ุจุทุงูุฉ Session & Message Statistics

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      Session & Message Statistics               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                 โ
โ  ๐ Date: Wed, Oct 29, 2025                     โ โ ุงูุชุงุฑูุฎ ุงูุญุงูู
โ  ๐ Time Zone: Asia/Dubai                       โ โ ุงูููุทูุฉ ุงูุฒูููุฉ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ          โ
โ                                                 โ
โ  ๐ค Messages Sent (Today): 145                  โ โ ุฃุฑุณูุชูุง ุฃูุช
โ  โ Messages Delivered: 138                     โ โ ูุตูุช ุจูุฌุงุญ
โ  โ Messages Failed: 7                          โ โ ูุดูุช
โ  ๐ฅ Messages Received: 2                        โ โ ุงุณุชููุชูุง ูู ุงูุขุฎุฑูู
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ          โ
โ                                                 โ
โ  โฑ๏ธ Session Uptime: 2h 15m 30s                  โ โ ูุฏุฉ ุงูุงุชุตุงู
โ  ๐ Last Update: 12:45:30 PM                    โ โ ุขุฎุฑ ุชุญุฏูุซ
โ                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุจุทุงูุฉ WhatsApp Connected

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         WhatsApp Connected                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                 โ
โ              [WhatsApp Icon]                    โ
โ                                                 โ
โ         Connected Successfully!                 โ
โ  Your WhatsApp is now connected...              โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ  โ โ Active Session                      โ     โ โ ุงูุฌูุณุฉ ูุดุทุฉ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ  โ ๐ Phone Number                       โ     โ
โ  โ    ***7890                            โ     โ โ ุขุฎุฑ 4 ุฃุฑูุงู
โ  โ                                       โ     โ
โ  โ ๐ค Client Name                        โ     โ
โ  โ    John Doe                           โ     โ โ ุงุณูู ูู ูุงุชุณุงุจ
โ  โ                                       โ     โ
โ  โ ๐ฑ Platform                           โ     โ
โ  โ    WhatsApp Business (Android)        โ     โ โ ููุน ุงูุชุทุจูู
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ููููุฉ ุฅุนุงุฏุฉ ุชุนููู ุงูุฅุญุตุงุฆูุงุช

ุฅุฐุง ููุช ุชุฑูุฏ ุฅุนุงุฏุฉ ุชุนููู ุนุฏุงุฏุงุช ุงูุฑุณุงุฆู ุฅูู ุงูุตูุฑ:

### ุงูุทุฑููุฉ 1: ูู Dashboard (ูุฑูุจุงู)

```javascript
// ุณูุชู ุฅุถุงูุฉ ุฒุฑ "Reset Statistics" ูู ุงูุฅุนุฏุงุฏุงุช
```

### ุงูุทุฑููุฉ 2: ูู API

```bash
curl -X POST http://localhost:8080/api/session/reset-stats \
  -H "X-API-Key: your-api-key"
```

### ุงูุทุฑููุฉ 3: ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช
rm runtime/server/db/waqtor.db

# ุฅุนุงุฏุฉ ุชุดุบูู Backend
npm start
```

---

## ๐ ุชุชุจุน ุงูุฅุญุตุงุฆูุงุช ูู ุงูููุช ุงููุนูู

### ูู Console ุงููุชุตูุญ:

```javascript
// ุงูุชุญ Developer Tools (F12)
// ุงูุชุจ:

// 1. ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุญุงููุฉ
const store = useAppStore.getState();
console.log('๐ Statistics:', {
    sent: store.sessionState?.messagesSent,
    delivered: store.sessionState?.messagesDelivered,
    failed: store.sessionState?.messagesFailed,
    received: store.sessionState?.messagesReceived
});

// 2. ูุฑุงูุจุฉ ุงูุชุบููุฑุงุช
useAppStore.subscribe((state) => {
    console.log('๐ Stats updated:', state.sessionState);
});
```

### ูู Backend Logs:

```bash
# ุงุจุญุซ ุนู:
โ Message sent: +1
๐ฅ Message received: +1
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

### โ ุชู ุฅุตูุงุญ:

1. **Hydration Error** - ุงูุชุงุฑูุฎ ูุงูููุทูุฉ ุงูุฒูููุฉ ุงูุขู ุนูู Client Side ููุท
2. **Platform Code** - `smba` ูุธูุฑ ุงูุขู ูู `WhatsApp Business (Android)`
3. **Messages Received** - ูุงุถุญ ุฃููุง ุงูุฑุณุงุฆู ุงููุณุชููุฉ ูู ุงูุขุฎุฑูู

### ๐ ุงูุฅุญุตุงุฆูุงุช:

- **Messages Sent** = ุงูุฑุณุงุฆู ุงูุชู ุฃุฑุณูุชูุง ุฃูุช
- **Messages Delivered** = ุงูุฑุณุงุฆู ุงูุชู ูุตูุช ุจูุฌุงุญ
- **Messages Failed** = ุงูุฑุณุงุฆู ุงูุชู ูุดูุช
- **Messages Received** = ุงูุฑุณุงุฆู ุงูุชู ุงุณุชููุชูุง ูู ุงูุขุฎุฑูู

### ๐ ุงูุฅุญุตุงุฆูุงุช ุชูุญุฏูุซ:

- โ ูู ุงูููุช ุงููุนูู ุนุจุฑ WebSocket
- โ ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชูุนุฑุถ ูู Dashboard

---

## ๐ ุฅุฐุง ูุงู ูุฏูู ุฃุณุฆูุฉ ุฃุฎุฑู

### ุงูุณุคุงู: ููุงุฐุง Messages Delivered ุฃูู ูู Messages Sentุ

**ุงูุฌูุงุจ:** ุจุนุถ ุงูุฑุณุงุฆู ูุฏ ุชููู:
- ูู ุทุฑูููุง ููุชุณููู (Pending)
- ูุดูุช ูู ุงูุฅุฑุณุงู (Failed)
- ูู ูุชู ุชุฃููุฏ ุชุณููููุง ุจุนุฏ

### ุงูุณุคุงู: ูู ูููู ุฑุคูุฉ ุชูุงุตูู ูู ุฑุณุงูุฉุ

**ุงูุฌูุงุจ:** ูุนู! ูู ุชุจููุจ **Messages** ููููู ุฑุคูุฉ:
- ูุงุฆูุฉ ุฌููุน ุงูุฑุณุงุฆู
- ุญุงูุฉ ูู ุฑุณุงูุฉ
- ููุช ุงูุฅุฑุณุงู
- ุงููุณุชูู

### ุงูุณุคุงู: ููู ุฃุฒูุฏ ูู Messages Receivedุ

**ุงูุฌูุงุจ:** 
- ุฃุฑุณู ุฑุณุงูุฉ ูููุณู ูู ูุงุชู ุขุฎุฑ
- ุฃู ุงุทูุจ ูู ุดุฎุต ุขุฎุฑ ุฅุฑุณุงู ุฑุณุงูุฉ ูู
- ุงูุนุฏุงุฏ ุณูุฒูุฏ ุชููุงุฆูุงู

---

## ๐ ูุฑุงุฌุน

- [WhatsApp Web.js Events](https://wwebjs.dev/guide/events.html)
- [Next.js Hydration](https://nextjs.org/docs/messages/react-hydration-error)
- [Platform Codes](https://github.com/pedroslopez/whatsapp-web.js/issues/1234)
