# ๐ข ุฏููู ุฅุฏุงุฑุฉ ุงูุญููุงุช - Waqtor Campaign Management

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุฅุฏุงุฑุฉ ุงูุญููุงุช ูู Waqtor ูุชูุญ ูู:
- โ ุฅูุดุงุก ุญููุงุช ููุฑุณุงุฆู ุงูุฌูุงุนูุฉ
- โ ุฌุฏููุฉ ุงูุญููุงุช ูููุช ูุญุฏุฏ (ูุฑูุจุงู)
- โ ุชูููุฐ ุงูุญููุงุช ููุฑุงู
- โ ุชุชุจุน ุญุงูุฉ ุงูุญููุงุช
- โ ูุฑุงุฌุนุฉ ูุชุงุฆุฌ ุงูุชูููุฐ

---

## ๐ ุทุฑููุฉ ุงูุนูู

### ุงูุฎุทูุงุช ุงูุฃุณุงุณูุฉ

1. **ุฅูุดุงุก ุญููุฉ** - ุชุญุฏูุฏ ุงูุฑุณุงูุฉ ูุงููุณุชูููู
2. **ุชูููุฐ ุงูุญููุฉ** - ุฅุฑุณุงู ุงูุฑุณุงุฆู ูููุณุชูููู
3. **ูุฑุงุฌุนุฉ ุงููุชุงุฆุฌ** - ุงูุชุญูู ูู ุญุงูุฉ ุงูุชูููุฐ

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### 1. ุฅูุดุงุก ุญููุฉ ุจุณูุทุฉ

```bash
curl -X POST http://localhost:8080/api/campaigns/create \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{
    "name": "ุญููุฉ ุชุฑุญูุจูุฉ",
    "recipients": ["966501234567", "966507654321"],
    "message": "ูุฑุญุจุงู ุจู ูู ุฎุฏูุชูุง! ๐"
  }'
```

**ุงููุชูุฌุฉ:**
```json
{
  "success": true,
  "message": "Campaign created successfully",
  "data": {
    "id": 1,
    "name": "ุญููุฉ ุชุฑุญูุจูุฉ",
    "status": "pending",
    "created_at": "2025-10-28 12:00:00"
  }
}
```

### 2. ุชูููุฐ ุงูุญููุฉ ููุฑุงู

```bash
curl -X POST http://localhost:8080/api/campaigns/1/execute \
  -H "X-API-Key: your_api_key_here"
```

**ุงููุชูุฌุฉ:**
```json
{
  "success": true,
  "message": "Campaign executed successfully",
  "data": {
    "results": {
      "total": 2,
      "sent": 2,
      "failed": 0,
      "errors": []
    },
    "campaign": {
      "id": "1",
      "name": "ุญููุฉ ุชุฑุญูุจูุฉ",
      "status": "completed"
    }
  }
}
```

### 3. ูุงุฆูุฉ ุฌููุน ุงูุญููุงุช

```bash
curl -X GET http://localhost:8080/api/campaigns/list \
  -H "X-API-Key: your_api_key_here"
```

### 4. ุงูุญุตูู ุนูู ุชูุงุตูู ุญููุฉ ูุญุฏุฏุฉ

```bash
curl -X GET http://localhost:8080/api/campaigns/1 \
  -H "X-API-Key: your_api_key_here"
```

### 5. ุชุญุฏูุซ ุญุงูุฉ ุญููุฉ

```bash
curl -X PUT http://localhost:8080/api/campaigns/1/status \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{"status": "cancelled"}'
```

### 6. ุญุฐู ุญููุฉ

```bash
curl -X DELETE http://localhost:8080/api/campaigns/1 \
  -H "X-API-Key: your_api_key_here"
```

---

## ๐ ุญุงูุงุช ุงูุญููุฉ (Campaign Status)

| ุงูุญุงูุฉ | ุงููุตู |
|--------|-------|
| `pending` | ุชู ุงูุฅูุดุงุก ููู ุชูููุฐ ุจุนุฏ |
| `running` | ููุฏ ุงูุชูููุฐ ุญุงููุงู |
| `completed` | ุชู ุงูุชูููุฐ ุจูุฌุงุญ |
| `partial` | ุชู ุงูุชูููุฐ ุฌุฒุฆูุงู (ุจุนุถ ุงูุฑุณุงุฆู ูุดูุช) |
| `failed` | ูุดู ุงูุชูููุฐ |
| `cancelled` | ุชู ุงูุฅูุบุงุก |

---

## ๐จ ุฃูุซูุฉ ูุชูุฏูุฉ

### ุญููุฉ ูุนุฏุฉ ูุณุชูููู

```bash
curl -X POST http://localhost:8080/api/campaigns/create \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{
    "name": "ุฅุนูุงู ุนุฑุถ ุฎุงุต",
    "recipients": [
      "966501234567",
      "966507654321",
      "966509876543",
      "971505121583"
    ],
    "message": "๐ ุนุฑุถ ุฎุงุต ููุชุฑุฉ ูุญุฏูุฏุฉ! ุฎุตู 50% ุนูู ุฌููุน ุงูููุชุฌุงุช.\n\nููุทูุจ: www.example.com\n\nุดูุฑุงู ูุซูุชูู ๐"
  }'
```

### ุญููุฉ ุจุชูุณูู ุฑูู ุฏููู

```bash
curl -X POST http://localhost:8080/api/campaigns/create \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{
    "name": "ุญููุฉ ุฏูููุฉ",
    "recipients": [
      "966501234567@c.us",
      "971505121583@c.us",
      "201012345678@c.us"
    ],
    "message": "ุฑุณุงูุฉ ุฏูููุฉ ูุนููุงุฆูุง ๐"
  }'
```

---

## โก ุณูุฑ ุงูุนูู ุงููุงูู (Full Workflow)

### ูุซุงู: ุญููุฉ ุชุฑููุฌูุฉ ูุงููุฉ

```bash
# ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงูุญููุฉ
CAMPAIGN_ID=$(curl -s -X POST http://localhost:8080/api/campaigns/create \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{
    "name": "ุนุฑุถ ุงูุฌูุนุฉ ุงูุจูุถุงุก 2025",
    "recipients": ["966501234567", "966507654321"],
    "message": "๐ ุงูุฌูุนุฉ ุงูุจูุถุงุก!\n\nุฎุตู ูุตู ุฅูู 70%\nููุฏุฉ 3 ุฃูุงู ููุท!\n\nุฒูุฑูุง ูููุนูุง ุงูุขู ๐๏ธ"
  }' | jq -r '.data.id')

echo "ุชู ุฅูุดุงุก ุงูุญููุฉ ุฑูู: $CAMPAIGN_ID"

# ุงูุฎุทูุฉ 2: ูุฑุงุฌุนุฉ ุชูุงุตูู ุงูุญููุฉ
curl -X GET http://localhost:8080/api/campaigns/$CAMPAIGN_ID \
  -H "X-API-Key: your_api_key_here"

# ุงูุฎุทูุฉ 3: ุชูููุฐ ุงูุญููุฉ
curl -X POST http://localhost:8080/api/campaigns/$CAMPAIGN_ID/execute \
  -H "X-API-Key: your_api_key_here"

# ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู ุงููุชุงุฆุฌ
curl -X GET http://localhost:8080/api/campaigns/$CAMPAIGN_ID \
  -H "X-API-Key: your_api_key_here"
```

---

## ๐ ุชุชุจุน ุงููุชุงุฆุฌ

ุจุนุฏ ุชูููุฐ ุงูุญููุฉุ ุณุชุญุตู ุนูู ุชูุฑูุฑ ููุตู:

```json
{
  "success": true,
  "data": {
    "results": {
      "total": 10,        // ุฅุฌูุงูู ุงููุณุชูููู
      "sent": 9,          // ุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ
      "failed": 1,        // ูุดู ุงูุฅุฑุณุงู
      "errors": [
        {
          "recipient": "966501234567",
          "error": "Invalid number"
        }
      ]
    }
  }
}
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ูุนุฏู ุงูุฅุฑุณุงู (Rate Limiting)

- ููุฌุฏ ุชุฃุฎูุฑ **2 ุซุงููุฉ** ุจูู ูู ุฑุณุงูุฉ ูุชุฌูุจ ุงูุญุธุฑ
- ููุญููุงุช ุงููุจูุฑุฉ (100+ ูุณุชูู)ุ ูููุถู ุชูุณูููุง ุฅูู ุญููุงุช ุฃุตุบุฑ

### ุชูุณูู ุงูุฃุฑูุงู

ููููู ุงุณุชุฎุฏุงู ุฃู ูู ุงูุตูุบ ุงูุชุงููุฉ:

```javascript
// ููุฏ ุงูุฏููุฉ + ุงูุฑูู (ุจุฏูู +)
"966501234567"

// ููุฏ ุงูุฏููุฉ + ุงูุฑูู + @c.us
"966501234567@c.us"

// ูุน ุงูุตูุฑ ุงููุญูู (ุณูุชู ุฅุฒุงูุชู ุชููุงุฆูุงู)
"0501234567"  // โ๏ธ ูุง ูููุตุญ ุจู
```

### ุฃูุถู ุงูููุงุฑุณุงุช

1. โ **ุงุฎุชุจุฑ ุฃููุงู** - ุฃุฑุณู ูุฑููู ุงูุดุฎุตู ูุจู ุงูุญููุฉ ุงููุจูุฑุฉ
2. โ **ุฃุฑูุงู ุตุญูุญุฉ** - ุชุฃูุฏ ูู ุตุญุฉ ุฌููุน ุงูุฃุฑูุงู
3. โ **ุฑุณุงุฆู ูุตูุฑุฉ** - ุชุฌูุจ ุงูุฑุณุงุฆู ุงูุทูููุฉ ุฌุฏุงู
4. โ **ููุช ููุงุณุจ** - ุฃุฑุณู ูู ุงูุฃููุงุช ุงูููุงุณุจุฉ
5. โ **ุฑุงุฌุน ุงููุชุงุฆุฌ** - ุชุญูู ูู ุงูุชูุฑูุฑ ุจุนุฏ ุงูุชูููุฐ

---

## ๐ ุญู ุงููุดุงูู

### ุงูุญููุฉ ูู ุชูููุฐ

**ุงููุดููุฉ:** ุงูุญููุฉ ูู ุญุงูุฉ `pending` ููู ูุชู ุฅุฑุณุงู ุงูุฑุณุงุฆู.

**ุงูุญู:**
```bash
# ุชูููุฐ ุงูุญููุฉ ูุฏููุงู
curl -X POST http://localhost:8080/api/campaigns/1/execute \
  -H "X-API-Key: your_api_key_here"
```

### ุจุนุถ ุงูุฑุณุงุฆู ูุดูุช

**ุงููุดููุฉ:** ุงูุญููุฉ ูู ุญุงูุฉ `partial` ูุจุนุถ ุงูุฑุณุงุฆู ูู ุชุฑุณู.

**ุงูุญู:**
1. ุฑุงุฌุน ุญูู `errors` ูู ุงููุชุงุฆุฌ
2. ุชุญูู ูู ุตุญุฉ ุงูุฃุฑูุงู ุงููุงุดูุฉ
3. ุฃูุดุฆ ุญููุฉ ุฌุฏูุฏุฉ ููุฃุฑูุงู ุงููุงุดูุฉ ููุท

### ุฎุทุฃ "WhatsApp client is not ready"

**ุงููุดููุฉ:** WhatsApp ุบูุฑ ูุชุตู.

**ุงูุญู:**
```bash
# ุชุญูู ูู ุญุงูุฉ ุงูุงุชุตุงู
curl -X GET http://localhost:8080/api/status/client \
  -H "X-API-Key: your_api_key_here"

# ุฅุฐุง ูู ููู ูุชุตูุ ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู
npm run dev
```

---

## ๐ ุงูููุฒุงุช ุงููุงุฏูุฉ

- [ ] **ุฌุฏููุฉ ุชููุงุฆูุฉ** - ุชูููุฐ ุงูุญููุงุช ูู ููุช ูุญุฏุฏ
- [ ] **ููุงูุจ ุงูุฑุณุงุฆู** - ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช ูุฎุตุตุฉ
- [ ] **ุฅุญุตุงุฆูุงุช ููุตูุฉ** - ุชูุงุฑูุฑ ูุชุญูููุงุช
- [ ] **ุฅุนุงุฏุฉ ุงููุญุงููุฉ** - ุฅุนุงุฏุฉ ุฅุฑุณุงู ุงูุฑุณุงุฆู ุงููุงุดูุฉ
- [ ] **Webhooks** - ุฅุดุนุงุฑุงุช ุนูุฏ ุงูุชูุงู ุงูุญููุฉ

---

## ๐ฏ ุฃูุซูุฉ ุญููููุฉ

### ูุซุงู 1: ูุชุฌุฑ ุฅููุชุฑููู

```bash
# ุฅูุดุงุก ุญููุฉ ููุนููุงุก ุงูุฌุฏุฏ
curl -X POST http://localhost:8080/api/campaigns/create \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{
    "name": "ุชุฑุญูุจ ุจุงูุนููุงุก ุงูุฌุฏุฏ",
    "recipients": ["966501234567", "966507654321"],
    "message": "ูุฑุญุจุงู ุจู ูู ูุชุฌุฑูุง! ๐\n\nุงุณุชุฎุฏู ููุฏ: WELCOME10\nููุญุตูู ุนูู ุฎุตู 10% ุนูู ุฃูู ุทูุจ\n\nูุชููู ูู ุชุฌุฑุจุฉ ุชุณูู ููุชุนุฉ! ๐๏ธ"
  }'

# ุชูููุฐ ููุฑู
curl -X POST http://localhost:8080/api/campaigns/1/execute \
  -H "X-API-Key: your_api_key_here"
```

### ูุซุงู 2: ุชุฐููุฑ ุจููุนุฏ

```bash
curl -X POST http://localhost:8080/api/campaigns/create \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{
    "name": "ุชุฐููุฑ ุจุงูููุงุนูุฏ - ุบุฏุงู",
    "recipients": ["966501234567"],
    "message": "ุชุฐููุฑ ุจููุนุฏู ๐\n\nุงูููุนุฏ: ุบุฏุงู ุงูุณุงุนุฉ 10:00 ุตุจุงุญุงู\nุงูุนูุงุฏุฉ: ูุฑูุฒ ุงูุตุญุฉ ุงูุทุจู\n\nูุฑุฌู ุงูุชุฃููุฏ ุฃู ุฅุนุงุฏุฉ ุงูุฌุฏููุฉ\nููุชูุงุตู: 0501234567"
  }'
```

### ูุซุงู 3: ุฅุนูุงู ุญุฏุซ

```bash
curl -X POST http://localhost:8080/api/campaigns/create \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{
    "name": "ุฏุนูุฉ ูุญุถูุฑ ูุฑุดุฉ ุนูู",
    "recipients": ["966501234567", "966507654321", "971505121583"],
    "message": "ุฏุนูุฉ ุฎุงุตุฉ! ๐\n\nูุฑุดุฉ ุนูู: ุชุทููุฑ ุชุทุจููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู\nุงูุชุงุฑูุฎ: 1 ููููุจุฑ 2025\nุงูููุงู: ููุฏู ุงูุฑูุชุฒุ ุงูุฑูุงุถ\n\nุงูุชุณุฌูู: www.workshop.com\nูุฌุงูู ูููุดุชุฑููู ุงูุฃูุงุฆู! โฐ"
  }'
```

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- **[API Documentation](../README.md)** - ูุซุงุฆู API ุงููุงููุฉ
- **[Testing Guide](../../TESTING_GUIDE.md)** - ุฏููู ุงูุงุฎุชุจุงุฑ
- **[Security Guidelines](../../SECURITY.md)** - ุฅุฑุดุงุฏุงุช ุงูุฃูุงู

---

**ุชู ุงูุชุญุฏูุซ:** 28 ุฃูุชูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** Waqtor v1.34.1
